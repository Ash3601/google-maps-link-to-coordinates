<!DOCTYPE html>
<html>
<head>
<style>
body {
    font-family: sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    background-color: #f4f4f4;
    margin: 0;
    padding: 20px; /* Add padding for better spacing on mobile */
}

h2 {
    color: #333;
    text-align: center; /* Center the heading */
}

#mapsLink {
    padding: 15px; /* Increase padding for touchscreens */
    margin-bottom: 15px;
    border: 1px solid #ccc;
    border-radius: 8px; /* Slightly larger radius for softer look */
    width: calc(100% - 30px); /* Take up full width with padding */
    box-sizing: border-box; /* Include padding in the element's total width and height */
}

button {
    padding: 15px;  /* Increase padding for touchscreens */
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 8px; 
    cursor: pointer;
    width: calc(100% - 30px); /* Take up full width with padding */
    box-sizing: border-box; 
}

button:hover {
    background-color: #45a049;
}

#result {
    margin-top: 20px;
    font-size: 18px;
    word-break: break-all; /* Allow long coordinates to break onto multiple lines */
}

@media (max-width: 600px) {
    #mapsLink, button {
        width: 100%; /* Full width on small screens */
    }
}
</style>
</head>
<body>
    <h2>Get Coordinates</h2>
    <input type="url" id="mapsLink" placeholder="Paste Maps Link" autofocus>
    <button onclick="getCoordinates()">Get Coordinates</button>
    <p id="result"></p>

  <script>
    function getCoordinates() {
      const expandedUrl = document.getElementById("mapsLink").value; 

      // Extract coordinates (same logic as before)
      const regex = /@(-?\d+\.\d+),(-?\d+\.\d+)(?:,[^,]+)?\//;
      const match = expandedUrl.match(regex);

      if (match) {
        const coord1 = match[1];
        const coord2 = match[2];
        document.getElementById("result").innerHTML = `(${coord1}, ${coord2}) <button id="copyButton" onclick="copyCoordinates()">Copy</button>`;
      } else {
        const url = new URL(expandedUrl);
        const ll = url.searchParams.get("ll");
        if (ll) {
          const [coord1, coord2] = ll.split(",");
          document.getElementById("result").innerHTML = `(${coord1}, ${coord2}) <button id="copyButton" onclick="copyCoordinates()">Copy</button>`;
        } else {
          document.getElementById("result").innerHTML = "Invalid link format";
        }
      }   
    }

    function copyCoordinates() {
      const coordinatesText = document.getElementById("result").textContent.trim().replace(" Copy", "");
      const tempInput = document.createElement("input");
      tempInput.value = coordinatesText;
      document.body.appendChild(tempInput);
      tempInput.select();
      document.execCommand("copy");
      document.body.removeChild(tempInput);
      // Replace alert with checkmark icon
      const copyButton = document.getElementById("copyButton");
      copyButton.innerHTML = "&#10004;"; // Unicode character for checkmark
      copyButton.disabled = true; 
    //   alert("Coordinates copied to clipboard!");
    }
    document.getElementById("mapsLink").focus();
  </script>
</body>
</html>
